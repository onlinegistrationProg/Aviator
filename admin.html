<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Aviator Admin</title>

<style>
    body { margin:0; background:#0D0D0F; font-family:Arial; color:white; }
    header { background:#111; padding:18px; text-align:center; font-size:22px; color:#FF0033; }
    .container { padding:20px; max-width:600px; margin:auto; }
    input, button, textarea {
        width:100%; padding:12px; margin-top:10px;
        background:#1A1A1D; color:white; border:none; border-radius:6px;
        font-size:16px;
    }
    button { background:#FF0033; cursor:pointer; font-weight:bold; }
    button:hover { opacity:0.9; }
    .section-title {
        margin-top:30px;
        padding-bottom:8px;
        border-bottom:1px solid #333;
        color:#FF0033;
        font-size:18px;
    }
    #adminPanel { display:none; margin-top:20px; }
</style>
</head>

<body>

<header>AVIATOR ADMIN PANEL</header>

<div class="container">

    <!-- LOGIN -->
    <h3>Admin Login</h3>
    <input type="text" id="adminUser" placeholder="Username">
    <input type="password" id="adminPass" placeholder="Password">
    <button onclick="loginAdmin()">Login</button>

    <!-- ADMIN PANEL -->
    <div id="adminPanel">

        <!-- PLAYER LOGIN CONTROL -->
        <h3 class="section-title">Player Login Control</h3>
        <input type="text" id="playerUser" placeholder="Player Username">
        <input type="text" id="playerPass" placeholder="Player Password">
        <button onclick="savePlayerLogin()">Save Player Login</button>

        <!-- PLAYER BALANCE CONTROL -->
        <h3 class="section-title">Player Balance</h3>
        <input type="number" id="playerBalance" placeholder="Set Player Balance">
        <button onclick="saveBalance()">Update Balance</button>
        <button onclick="resetPlayer()">Reset Player</button>

        <!-- FORCE NEXT MULTIPLIER -->
        <h3 class="section-title">Force Next Multiplier</h3>
        <input type="text" id="forceMultiplier" placeholder="Example: 1, 2.5, 50">
        <button onclick="saveForcedMultiplier()">Apply Forced Multiplier</button>

        <!-- DAILY OUTCOMES -->
        <h3 class="section-title">Daily Outcomes (Pre-Results)</h3>
        <button onclick="generateOutcomes()">Auto Generate Outcomes</button>
        <textarea id="outcomeList" rows="6" placeholder="Edit outcomes manually..."></textarea>
        <button onclick="saveOutcomes()">Save Outcomes</button>

        <!-- DEPOSIT CODE -->
        <h3 class="section-title">Player Deposit Code</h3>
        <div id="depositBox" style="padding:12px;background:#1A1A1D;border-radius:6px;font-size:20px;text-align:center;">
            Code: <span id="depositCode">------</span><br>
            <small style="color:#aaa;">Next change in <span id="timer">60</span>s</small>
        </div>

    </div>
</div>

<script>
// ===================== ADMIN LOGIN ===================== //
function loginAdmin() {
    const u = document.getElementById("adminUser").value;
    const p = document.getElementById("adminPass").value;

    if (u === "Kibet Riskid" && p === "Kwenik254$") {
        document.getElementById("adminPanel").style.display = "block";
        alert("Admin Logged In Successfully");
        startDepositSystem();
        attachManualDepositRefresh();
    } else {
        alert("Incorrect Login");
    }
}

// ===================== PLAYER LOGIN CONTROL ===================== //
function savePlayerLogin() {
    localStorage.setItem("player_username", document.getElementById("playerUser").value);
    localStorage.setItem("player_password", document.getElementById("playerPass").value);
    alert("Player Login Saved");
}

// ===================== PLAYER BALANCE ===================== //
function saveBalance() {
    let bal = document.getElementById("playerBalance").value;
    localStorage.setItem("player_balance", bal);
    alert("Balance Updated");
}

function resetPlayer() {
    localStorage.removeItem("player_balance");
    localStorage.removeItem("player_username");
    localStorage.removeItem("player_password");
    alert("Player Reset Complete");
}

// ===================== FORCE NEXT MULTIPLIER ===================== //
function saveForcedMultiplier() {
    localStorage.setItem("forced_multiplier", document.getElementById("forceMultiplier").value);
    alert("Next Multiplier Forced Successfully");
}

// ===================== DAILY OUTCOMES ===================== //
function generateOutcomes() {
    let list = [];
    for (let i = 0; i < 20; i++) {
        let r = (Math.random() * 50 + 1).toFixed(2);
        list.push("x" + r);
    }
    document.getElementById("outcomeList").value = list.join("\n");
    alert("New Outcomes Generated");
}

function saveOutcomes() {
    let outcomes = document.getElementById("outcomeList").value;
    localStorage.setItem("daily_outcomes", outcomes);
    alert("Outcomes Saved");
}

// ===================== AUTO + MANUAL DEPOSIT CODE ===================== //

let depositTimer = 60;
let timerInterval;

// Generate a 6-digit random code
function generateDepositCode() {
    let code = Math.floor(100000 + Math.random() * 900000);
    localStorage.setItem("deposit_code", code);
    document.getElementById("depositCode").innerText = code;
}

// Start the auto timer
function startDepositTimer() {
    clearInterval(timerInterval);
    depositTimer = 60;

    timerInterval = setInterval(() => {
        depositTimer--;
        document.getElementById("timer").innerText = depositTimer;

        if (depositTimer <= 0) {
            generateDepositCode();
            depositTimer = 60;
        }
    }, 1000);
}

function startDepositSystem() {
    generateDepositCode();
    startDepositTimer();
}

// Manual change on ANY button press
function attachManualDepositRefresh() {
    const buttons = document.querySelectorAll("button");
    buttons.forEach(btn => {
        btn.addEventListener("click", () => {
            generateDepositCode();  
            startDepositTimer();     
        });
    });
}
</script>

</body>
</html>
